<div class="row justify-content-center">
    <form class="col-6" #ticketForm="ngForm" (ngSubmit)="execForm(ticketForm)">
        <div class="form-floating mb-3">
            <input class="form-control" type="text" [value]="recipient" aria-label="readonlyInput" id="recipientInput"
                name="recipientInput" readonly>
            <label class="col-form-label">Odbiorca:</label>
        </div>
        <div class="form-floating mb-3">
            <input type="text" class="form-control"
                [ngClass]="{'is-valid': !title.errors?.['required'], 'is-invalid': title.errors?.['required'] && title.touched}"
                id="floatingTitle" placeholder="Title" name="title" [(ngModel)]="ticket.title"
                #title="ngModel" required>
            <label for="floatingInput">Tytuł zgłoszenia</label>
            @if(title.errors?.['required'] && title.touched){
            <div class="invalid-feedback">
                Tytuł jest wymagany!
            </div>
            }
        </div>
        <div class="form-floating">
            <textarea class="form-control"
                [ngClass]="{'is-valid': !description.errors?.['required'], 'is-invalid': description.errors?.['required'] && description.touched}"
                placeholder="Description" id="floatingDescription" name="description" style="height: 300px"
                [(ngModel)]="ticket.description" #description="ngModel" required></textarea>
            <label for="floatingTextarea">Treść zgłoszenia</label>
            @if(description.errors?.['required'] && description.touched){
            <div class="invalid-feedback">
                Treść zgłoszenia jest wymagana!
            </div>
            }
        </div>
        <div class="my-3">
            <input class="form-control" type="file" id="filesMultiple" name="files" multiple (change)="uploadFiles($event)" ngModel>
        </div>

        <div class="text-center mt-3">
            <button type="submit" class="btn btn-primary"
                [disabled]="title.invalid || description.invalid">
                Zatwierdź
            </button>
        </div>
    </form>
</div>